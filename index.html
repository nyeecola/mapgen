<head>
<link rel="stylesheet" type="text/css" href="style.css">
</head>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gl-matrix/2.4.0/gl-matrix.js"></script>

<script id="shader-fs" type="x-shader/x-fragment">
  precision mediump float;
  
  varying vec3 output_color;
  varying vec2 tex_coord;

  uniform sampler2D texture_sampler;
  uniform int texture_enabled;

  void main(void)
  {
    vec4 temp_frag_color;
    if (texture_enabled == 0)
    {
      temp_frag_color = vec4(output_color.xyz, 1.0);
    }
    else
    {
      temp_frag_color = texture2D(texture_sampler, tex_coord);
    }

    gl_FragColor = temp_frag_color;
  }
</script>



<script id="shader-vs" type="x-shader/x-vertex">
  attribute vec3 position;
  attribute vec2 p_tex_coord;
  attribute vec3 color;
  attribute vec3 model_position;
  
  uniform mat4 model;
  uniform mat4 view;
  uniform mat4 projection;
  // TEST
  uniform float tex_coord_offset;
  
  varying vec3 output_color;
  varying vec2 tex_coord;

  void main(void)
  {
    vec4 final_position = vec4(model_position.xyz, 1.0) + model * vec4(position.xyz, 1.0);
    gl_Position = projection * view * vec4(final_position.xyz, 1.0);
    output_color = color;
    tex_coord = vec2(p_tex_coord.x - tex_coord_offset, p_tex_coord.y + tex_coord_offset);
  }
</script>

<body>
<canvas id="canvas">

<script src="state.js"></script>
<script src="perlin.js"></script>
<script src="gl.js"></script>
<script src="hex.js"></script>
<script src="test_mesh.js"></script>
<script src="mesh.js"></script>
<script src="main.js"></script>
</body>
